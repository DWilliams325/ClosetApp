<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ClosetTracker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <h1>ClosetTracker</h1>

    <!-- Add Item Card -->
    <div class="card add-card">
      <h2 class="card-title">Add a Clothing Item</h2>

      <div class="grid-2">
        <div class="field">
          <label for="name">Name</label>
          <input id="name" type="text" placeholder="e.g. Blue Hoodie"
                 autocapitalize="words" autocomplete="off" inputmode="text" enterkeyhint="done"/>
        </div>

        <div class="field">
          <label for="category">Category</label>
          <select id="category">
            <option value="">Select a category...</option>
          </select>
        </div>
      </div>

      <div id="dropzone" class="dropzone" role="button" tabindex="0" aria-label="Upload photo">
        <div class="dz-inner">
          <div class="dz-thumb" id="dzThumb" aria-hidden="true"></div>
          <div class="dz-text">
            <strong>Upload photo</strong>
            <span class="dz-sub">Drag & drop or click to browse (you can pick multiple)</span>
          </div>
        </div>
        <!-- allow camera capture; still supports gallery + multi-select -->
        <input id="photo" type="file" accept="image/*" capture="environment" class="sr-only" multiple />
      </div>

      <div class="actions actions-split">
        <button id="speedBtn" class="btn btn-ghost">Speed Add (Camera)</button>
        <div class="spacer"></div>
        <button id="addBtn" class="btn btn-brand" disabled>Add Item</button>
      </div>
    </div>

    <!-- Share/Import Preview Modal -->
    <div id="importModal" class="modal" style="display:none">
      <div class="modal-backdrop"></div>
      <div class="modal-sheet">
        <div class="modal-header">
          <div class="modal-title">Preview Import</div>
          <button id="closeModal" class="btn btn-ghost">✕</button>
        </div>
        <div class="modal-body">
          <p id="modalSummary" class="modal-summary"></p>
          <div id="modalGrid" class="modal-grid"></div>
          <p class="modal-hint">Only the first few items are shown here.</p>
        </div>
        <div class="modal-actions">
          <button id="modalReplace" class="btn btn-danger">Replace</button>
          <button id="modalMerge"   class="btn btn-brand">Import (Merge)</button>
        </div>
      </div>
    </div>

    <!-- SPEED ADD CAMERA SHEET -->
    <div id="speedModal" class="modal" style="display:none">
      <div class="modal-backdrop"></div>
      <div class="modal-sheet speed-sheet">
        <div class="speed-header">
          <div class="left">
            <button id="speedClose" class="btn btn-ghost">Close</button>
          </div>
          <div class="mid">
            <select id="speedCategory" class="speed-select" aria-label="Category for captured photos">
              <option value="">Select a category…</option>
            </select>
          </div>
          <div class="right">
            <div class="speed-count"><span id="speedCount">0</span> captured</div>
          </div>
        </div>

        <div class="speed-body">
          <div class="video-wrap">
            <video id="speedVideo" autoplay playsinline muted></video>
            <canvas id="speedCanvas" class="sr-only"></canvas>
            <div class="grid-overlay"></div>
          </div>
          <div class="thumbs" id="speedThumbs"></div>
        </div>

        <div class="speed-actions">
          <button id="speedUndo" class="btn btn-ghost" disabled>Undo</button>
          <button id="speedShutter" class="btn btn-brand speed-shutter">●</button>
          <button id="speedSave" class="btn btn-brand" disabled>Save All</button>
        </div>
      </div>
    </div>

    <div class="list-title">Virtual Closet</div>
    <div id="filters" class="filters"></div>
    <div id="list" class="scroller"></div>
    <div id="empty" class="empty" style="display:none">No items yet — add one above.</div>
  </div>

  <script src="app.js?v=8" defer></script>
</body>
</html>
